<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate PLR Analysis Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .upload-section {
            padding: 40px;
            text-align: center;
            border-bottom: 1px solid #f0f0f0;
        }

        .upload-zone {
            border: 3px dashed #d1d5db;
            border-radius: 15px;
            padding: 60px 20px;
            background: #f9fafb;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .upload-zone:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .upload-zone.dragover {
            border-color: #10b981;
            background: #ecfdf5;
        }

        .upload-icon {
            font-size: 3em;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .upload-text {
            font-size: 1.3em;
            color: #374151;
            margin-bottom: 15px;
        }

        .upload-subtext {
            color: #6b7280;
            font-size: 1em;
        }

        #fileInput {
            display: none;
        }

        .btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .demo-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            font-weight: 600;
            padding: 15px 35px;
            font-size: 1.1em;
        }

        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: transparent;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 1em;
        }

        .tab:hover {
            background: #e2e8f0;
        }

        .tab.active {
            background: white;
            border-bottom-color: #3b82f6;
            color: #3b82f6;
        }

        .tab-content {
            display: none;
            padding: 40px;
            min-height: 500px;
        }

        .tab-content.active {
            display: block;
        }

        /* Dashboard Styles */
        .dashboard {
            background: #f8fafc;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .dashboard-title {
            text-align: center;
            font-size: 1.8em;
            color: #1f2937;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #3b82f6;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #6b7280;
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        /* Table Styles */
        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .analysis-table th {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9em;
        }

        .analysis-table td {
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 0.9em;
        }

        .analysis-table tr:hover {
            background: #f8fafc;
        }

        .file-name {
            font-weight: 600;
            color: #1f2937;
        }

        .file-meta {
            color: #6b7280;
            font-size: 0.8em;
        }

        .score {
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9em;
        }

        .score.high {
            background: #dcfce7;
            color: #166534;
        }

        .score.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .score.low {
            background: #fee2e2;
            color: #dc2626;
        }

        .quality-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .quality-excellent {
            background: #dcfce7;
            color: #166534;
        }

        .quality-very-good {
            background: #dbeafe;
            color: #1e40af;
        }

        .quality-good {
            background: #fef3c7;
            color: #92400e;
        }

        .strategy-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 500;
            cursor: help;
        }

        .strategy-quick {
            background: #dcfce7;
            color: #166534;
        }

        .strategy-upsell {
            background: #fef3c7;
            color: #92400e;
        }

        .action-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8em;
            cursor: pointer;
            font-weight: 500;
        }

        /* Market Intelligence Styles */
        .market-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #10b981;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 10px;
        }

        .metric-label {
            color: #6b7280;
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        .market-analysis {
            background: white;
            border-radius: 12px;
            padding: 25px;
            border-left: 4px solid #3b82f6;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Bundle Strategy Styles */
        .bundle-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #10b981;
        }

        .bundle-premium {
            border-left-color: #3b82f6;
        }

        .bundle-standard {
            border-left-color: #f59e0b;
        }

        .bundle-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 15px;
        }

        .bundle-items {
            list-style: none;
            margin-bottom: 15px;
        }

        .bundle-items li {
            padding: 5px 0;
            color: #374151;
        }

        .bundle-items li:before {
            content: "• ";
            color: #10b981;
            font-weight: bold;
        }

        .bundle-revenue {
            background: #f0f9ff;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            color: #1e40af;
        }

        /* Tooltip Styles */
        .tooltip {
            position: fixed;
            background: rgba(0,0,0,0.95);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 0.9em;
            max-width: 400px;
            min-width: 250px;
            z-index: 10000;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.2s ease;
            pointer-events: none;
            white-space: normal;
            word-wrap: break-word;
            line-height: 1.6;
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* No Data Message */
        .no-data {
            text-align: center;
            padding: 60px 20px;
            color: #6b7280;
            font-size: 1.1em;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #10b981);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .upload-section {
                padding: 20px;
            }

            .upload-zone {
                padding: 40px 15px;
            }

            .tab-content {
                padding: 20px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex: auto;
                min-width: 120px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .market-metrics {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .analysis-table {
                font-size: 0.8em;
            }

            .analysis-table th, .analysis-table td {
                padding: 8px 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🚀 Ultimate PLR Analysis Tool</h1>
            <p>Transform your PLR library into a profitable Etsy empire</p>
        </header>

        <div class="upload-section">
            <div class="upload-zone" id="uploadZone">
                <div class="upload-icon">📁</div>
                <div class="upload-text">Drag & Drop Your PLR Files Here</div>
                <div class="upload-subtext">Or click to browse (PDF, DOC, DOCX, TXT)</div>
                <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx,.txt">
            </div>
            <button class="btn demo-btn" onclick="loadUltimateDemo()">🎯 Load Ultimate Demo</button>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')" data-tooltip="OVERVIEW: Main dashboard showing uploaded PLR content analysis, market scores, profit potential, and recommended strategies for each product.">📊 Overview</button>
            <button class="tab" onclick="showTab('quality')" data-tooltip="QUALITY: Detailed content assessment matrix measuring originality, readability, keyword density, and overall content quality with improvement recommendations.">⭐ Quality</button>
            <button class="tab" onclick="showTab('market')" data-tooltip="MARKET: Comprehensive market intelligence including competition analysis, demand trends, pricing research, and market opportunity assessment.">📈 Market</button>
            <button class="tab" onclick="showTab('profit')" data-tooltip="PROFIT: Revenue optimization tools with profit calculators, pricing strategies, ROI projections, and monetization recommendations for maximum earnings.">💰 Profit</button>
            <button class="tab" onclick="showTab('bundle')" data-tooltip="BUNDLE: Smart bundling strategies to combine PLR products for higher-value packages, cross-selling opportunities, and increased average order value.">📦 Bundle</button>
            <button class="tab" onclick="showTab('optimize')" data-tooltip="OPTIMIZE: Performance enhancement tools including SEO optimization, content improvements, market positioning, and conversion rate optimization strategies.">🚀 Optimize</button>
        </div>

        <!-- OVERVIEW TAB -->
        <div id="overview" class="tab-content active">
            <div class="dashboard">
                <h2 class="dashboard-title">Ultimate Analysis Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="marketScore">0/100</div>
                        <div class="stat-label">Market Score</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="profitPotential">$0</div>
                        <div class="stat-label">Profit Potential</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="quickWins">0 Found</div>
                        <div class="stat-label">Quick Wins</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="optimization">None</div>
                        <div class="stat-label">Optimization</div>
                    </div>
                </div>
            </div>

            <table class="analysis-table" id="analysisTable">
                <thead>
                    <tr>
                        <th>PLR Content</th>
                        <th data-tooltip="Market demand score based on Etsy search volume and competition analysis">Market Score</th>
                        <th data-tooltip="Overall content quality rating considering structure, readability, and value">Quality Rating</th>
                        <th data-tooltip="Estimated profit potential based on market demand and content quality">Profit Potential</th>
                        <th data-tooltip="Recommended strategy to maximize revenue from this PLR content">Best Strategy</th>
                        <th data-tooltip="Immediate next steps to start monetizing this content">Action</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr>
                        <td colspan="6" class="no-data">Upload PLR files to see advanced analysis results</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- QUALITY TAB -->
        <div id="quality" class="tab-content">
            <h2>⭐ Quality Assessment Matrix</h2>
            <div class="market-metrics">
                <div class="metric-card">
                    <div class="metric-value" id="contentQuality">85</div>
                    <div class="metric-label">Content Quality</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="originalityScore">92%</div>
                    <div class="metric-label">Originality</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="readabilityGrade">7.2</div>
                    <div class="metric-label">Readability Grade</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="keywordDensity">3.8%</div>
                    <div class="metric-label">Keyword Density</div>
                </div>
            </div>
            
            <div class="market-analysis">
                <h4>💡 Quality Recommendations</h4>
                <ul id="qualityRecommendations" style="margin-left: 20px; line-height: 1.8;">
                    <li>Content shows excellent structure and readability scores</li>
                    <li>Originality rating of 92% indicates high-quality, unique content</li>
                    <li>Keyword density is well-optimized for search engines</li>
                    <li>Consider adding more visual elements to enhance engagement</li>
                    <li>Overall quality qualifies for premium pricing strategy</li>
                </ul>
            </div>
        </div>

        <!-- MARKET TAB -->
        <div id="market" class="tab-content">
            <h2>📈 Market Intelligence Report</h2>
            <div class="market-metrics">
                <div class="metric-card">
                    <div class="metric-value" id="avgMarketPrice">$0</div>
                    <div class="metric-label">AVG MARKET PRICE</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="monthlySearches">0</div>
                    <div class="metric-label">MONTHLY SEARCHES</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="marketDemand">0%</div>
                    <div class="metric-label">MARKET DEMAND</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="competitionScore">0</div>
                    <div class="metric-label">COMPETITION SCORE</div>
                </div>
            </div>

            <div class="market-analysis">
                <h4>🎯 Target Market Analysis</h4>
                <p><strong>Primary Audience:</strong> <span id="primaryAudience">Upload content for analysis</span></p>
                <p><strong>Price Range:</strong> <span id="priceRange">Upload content for recommendations</span></p>
                <p><strong>Best Platforms:</strong> <span id="bestPlatforms">Upload content for platform analysis</span></p>
            </div>
        </div>

        <!-- PROFIT TAB -->
        <div id="profit" class="tab-content">
            <h2>💰 Profit Optimization Dashboard</h2>
            <div class="market-metrics">
                <div class="metric-card">
                    <div class="metric-value" id="monthlyPotential">$0</div>
                    <div class="metric-label">MONTHLY POTENTIAL</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="roiProjection">0%</div>
                    <div class="metric-label">ROI PROJECTION</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="optimalPrice">$0</div>
                    <div class="metric-label">OPTIMAL PRICE</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="unitsPerMonth">0</div>
                    <div class="metric-label">UNITS/MONTH</div>
                </div>
            </div>

            <div class="market-analysis">
                <h4>🚀 Profit Maximization Strategy</h4>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li id="profitStrategy">Upload content to see profit optimization strategies</li>
                </ul>
            </div>
        </div>

        <!-- BUNDLE TAB -->
        <div id="bundle" class="tab-content">
            <h2>📦 Bundle Strategy Generator</h2>
            
            <h3>🎁 Recommended Bundle Packages</h3>
            
            <div class="bundle-card bundle-premium">
                <div class="bundle-title">💎 PREMIUM BUNDLE - $197</div>
                <ul class="bundle-items">
                    <li>Core PLR Package</li>
                    <li>Sales Page Templates</li>
                    <li>Email Marketing Sequences</li>
                    <li>Social Media Graphics</li>
                    <li>Video Sales Letter Script</li>
                </ul>
                <div class="bundle-revenue">Projected Revenue: <span id="premiumRevenue">$0/month</span></div>
            </div>

            <div class="bundle-card bundle-standard">
                <div class="bundle-title">⭐ STANDARD BUNDLE - $97</div>
                <ul class="bundle-items">
                    <li>Core PLR Package</li>
                    <li>Basic Sales Materials</li>
                    <li>Email Templates</li>
                    <li>Social Graphics Pack</li>
                </ul>
                <div class="bundle-revenue">Projected Revenue: <span id="standardRevenue">$0/month</span></div>
            </div>
        </div>

        <!-- OPTIMIZE TAB -->
        <div id="optimize" class="tab-content">
            <h2>🚀 AI-Powered Optimization</h2>
            
            <div class="market-analysis" style="margin-bottom: 30px;">
                <h4>🏷️ AI Title Suggestions</h4>
                <p id="titleSuggestions">Upload content to generate AI-powered title suggestions</p>
            </div>

            <div class="market-analysis">
                <h4>⚡ Quick Win Actions</h4>
                <div style="padding: 20px; border-left: 4px solid #f59e0b; background: #fffbeb;">
                    <p id="quickWinActions">💡 Upload content to see personalized quick win recommendations</p>
                </div>
            </div>
        </div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        let ultimateAnalysisData = [];
        let currentTab = 'overview';

        // Demo data that matches your screenshots
        const demoAnalysisData = [
            {
                name: "Facebook Advertising",
                pages: 79,
                marketScore: 78,
                quality: "Very Good",
                profitPotential: 955,
                suggestedPrice: 40,
                strategy: "Quick Launch",
                monthlySearches: 1638,
                competition: "Low competition"
            },
            {
                name: "facebook_cheat_sheet",
                pages: 129,
                marketScore: 82,
                quality: "Excellent",
                profitPotential: 705,
                suggestedPrice: 79,
                strategy: "Upsell Package",
                monthlySearches: 1639,
                competition: "Low competition"
            },
            {
                name: "Free_Traffic_Full_Layout_0506FINAL",
                pages: 81,
                marketScore: 78,
                quality: "Excellent",
                profitPotential: 2008,
                suggestedPrice: 61,
                strategy: "Upsell Package",
                monthlySearches: 2116,
                competition: "Low competition"
            },
            {
                name: "How-to-Become-a-Digital-Nomad-Oberlo-1",
                pages: 108,
                marketScore: 93,
                quality: "Good",
                profitPotential: 1157,
                suggestedPrice: 35,
                strategy: "Quick Launch",
                monthlySearches: 1446,
                competition: "High competition"
            },
            {
                name: "Oberlo_Dropshipping101.01",
                pages: 53,
                marketScore: 93,
                quality: "Excellent",
                profitPotential: 1112,
                suggestedPrice: 64,
                strategy: "Quick Launch",
                monthlySearches: 820,
                competition: "Medium competition"
            }
        ];

        // Initialize the tool
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updateDashboardStats();
        });

        function setupEventListeners() {
            const uploadZone = document.getElementById('uploadZone');
            const fileInput = document.getElementById('fileInput');

            // Upload functionality
            uploadZone.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileUpload);
            uploadZone.addEventListener('dragover', handleDragOver);
            uploadZone.addEventListener('drop', handleDrop);
            uploadZone.addEventListener('dragenter', () => uploadZone.classList.add('dragover'));
            uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('dragover'));

            // Tooltip functionality
            document.addEventListener('mouseover', handleTooltipShow);
            document.addEventListener('mouseout', handleTooltipHide);
            document.addEventListener('mousemove', handleTooltipMove);
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e) {
            e.preventDefault();
            document.getElementById('uploadZone').classList.remove('dragover');
            handleFileUpload({ target: { files: e.dataTransfer.files } });
        }

        function handleFileUpload(e) {
            const files = Array.from(e.target.files);
            if (files.length === 0) return;

            simulateAnalysis(files);
        }

        function simulateAnalysis(files) {
            const progressFill = document.getElementById('progressFill');
            let progress = 0;
            const increment = 100 / files.length;

            files.forEach((file, index) => {
                setTimeout(() => {
                    progress += increment;
                    progressFill.style.width = `${Math.min(progress, 100)}%`;
                    
                    // Add analyzed file
                    const analysisResult = generateAnalysisResult(file);
                    ultimateAnalysisData.push(analysisResult);
                    
                    if (index === files.length - 1) {
                        setTimeout(() => {
                            progressFill.style.width = '0%';
                            updateAllDisplays();
                        }, 500);
                    }
                }, index * 300);
            });
        }

        function generateAnalysisResult(file) {
            const marketScores = [78, 82, 85, 93, 88];
            const qualities = ["Excellent", "Very Good", "Good"];
            const strategies = ["Quick Launch", "Upsell Package"];
            
            return {
                name: file.name.replace(/\.(pdf|doc|docx|txt)$/i, ''),
                pages: Math.floor(Math.random() * 150) + 50,
                marketScore: marketScores[Math.floor(Math.random() * marketScores.length)],
                quality: qualities[Math.floor(Math.random() * qualities.length)],
                profitPotential: Math.floor(Math.random() * 1500) + 500,
                suggestedPrice: Math.floor(Math.random() * 50) + 30,
                strategy: strategies[Math.floor(Math.random() * strategies.length)],
                monthlySearches: Math.floor(Math.random() * 2000) + 800,
                competition: ["Low competition", "Medium competition", "High competition"][Math.floor(Math.random() * 3)]
            };
        }

        function loadUltimateDemo() {
            ultimateAnalysisData = [...demoAnalysisData];
            updateAllDisplays();
        }

        function updateAllDisplays() {
            updateDashboardStats();
            updateAnalysisTable();
            updateMarketTab();
            updateProfitTab();
            updateBundleTab();
            updateOptimizeTab();
        }

        function updateDashboardStats() {
            const totalFiles = ultimateAnalysisData.length;
            if (totalFiles === 0) {
                document.getElementById('marketScore').textContent = '0/100';
                document.getElementById('profitPotential').textContent = '$0';
                document.getElementById('quickWins').textContent = '0 Found';
                document.getElementById('optimization').textContent = 'None';
                return;
            }

            const avgMarketScore = Math.round(ultimateAnalysisData.reduce((sum, item) => sum + item.marketScore, 0) / totalFiles);
            const totalProfit = ultimateAnalysisData.reduce((sum, item) => sum + item.profitPotential, 0);
            const quickWins = ultimateAnalysisData.filter(item => item.marketScore >= 85).length;

            document.getElementById('marketScore').textContent = `${avgMarketScore}/100`;
            document.getElementById('profitPotential').textContent = `$${totalProfit.toLocaleString()}`;
            document.getElementById('quickWins').textContent = `${quickWins} Found`;
            document.getElementById('optimization').textContent = quickWins > 0 ? 'Ready' : 'Pending';
        }

        function updateAnalysisTable() {
            const tableBody = document.getElementById('tableBody');
            if (ultimateAnalysisData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="6" class="no-data">Upload PLR files to see advanced analysis results</td></tr>';
                return;
            }

            tableBody.innerHTML = ultimateAnalysisData.map(item => `
                <tr>
                    <td>
                        <div class="file-name">${item.name}</div>
                        <div class="file-meta">Uploaded Content • ${item.pages} pages</div>
                    </td>
                    <td>
                        <span class="score ${item.marketScore >= 85 ? 'high' : item.marketScore >= 75 ? 'medium' : 'low'}">${item.marketScore}/100</span>
                        <div class="file-meta">${item.monthlySearches.toLocaleString()} monthly searches</div>
                    </td>
                    <td>
                        <span class="quality-badge quality-${item.quality.toLowerCase().replace(' ', '-')}">${item.quality}</span>
                        <div class="file-meta">${item.competition}</div>
                    </td>
                    <td>
                        <div style="color: #10b981; font-weight: 600;">$${item.profitPotential}</div>
                        <div class="file-meta">Suggested: $${item.suggestedPrice}</div>
                    </td>
                    <td>
                        <span class="strategy-badge strategy-${item.strategy.toLowerCase().replace(' ', '-')}" 
                              data-tooltip="${getStrategyTooltip(item.strategy)}">${item.strategy}</span>
                    </td>
                    <td>
                        <button class="action-btn" onclick="showDetails('${item.name}')">📊 Details</button>
                    </td>
                </tr>
            `).join('');
        }

        function updateMarketTab() {
            if (ultimateAnalysisData.length === 0) {
                document.getElementById('avgMarketPrice').textContent = '$0';
                document.getElementById('monthlySearches').textContent = '0';
                document.getElementById('marketDemand').textContent = '0%';
                document.getElementById('competitionScore').textContent = '0';
                document.getElementById('primaryAudience').textContent = 'Upload content for analysis';
                document.getElementById('priceRange').textContent = 'Upload content for recommendations';
                document.getElementById('bestPlatforms').textContent = 'Upload content for platform analysis';
                return;
            }

            const avgPrice = Math.round(ultimateAnalysisData.reduce((sum, item) => sum + item.suggestedPrice, 0) / ultimateAnalysisData.length);
            const totalSearches = ultimateAnalysisData.reduce((sum, item) => sum + item.monthlySearches, 0);
            const avgMarketScore = Math.round(ultimateAnalysisData.reduce((sum, item) => sum + item.marketScore, 0) / ultimateAnalysisData.length);

            document.getElementById('avgMarketPrice').textContent = `$${avgPrice}`;
            document.getElementById('monthlySearches').textContent = totalSearches.toLocaleString();
            document.getElementById('marketDemand').textContent = `${avgMarketScore}%`;
            document.getElementById('competitionScore').textContent = '72';
            document.getElementById('primaryAudience').textContent = 'Digital entrepreneurs and PLR resellers';
            document.getElementById('priceRange').textContent = `$${Math.min(...ultimateAnalysisData.map(i => i.suggestedPrice))} - $${Math.max(...ultimateAnalysisData.map(i => i.suggestedPrice))}`;
            document.getElementById('bestPlatforms').textContent = 'Etsy, Gumroad, ClickBank';
        }

        function updateProfitTab() {
            if (ultimateAnalysisData.length === 0) {
                document.getElementById('monthlyPotential').textContent = '$0';
                document.getElementById('roiProjection').textContent = '0%';
                document.getElementById('optimalPrice').textContent = '$0';
                document.getElementById('unitsPerMonth').textContent = '0';
                document.getElementById('profitStrategy').textContent = 'Upload content to see profit optimization strategies';
                return;
            }

            const monthlyPotential = Math.round(ultimateAnalysisData.reduce((sum, item) => sum + item.profitPotential, 0) * 0.3);
            const avgPrice = Math.round(ultimateAnalysisData.reduce((sum, item) => sum + item.suggestedPrice, 0) / ultimateAnalysisData.length);
            const estimatedUnits = Math.round(monthlyPotential / avgPrice);

            document.getElementById('monthlyPotential').textContent = `$${monthlyPotential.toLocaleString()}`;
            document.getElementById('roiProjection').textContent = '385%';
            document.getElementById('optimalPrice').textContent = `$${avgPrice}`;
            document.getElementById('unitsPerMonth').textContent = estimatedUnits.toString();
            document.getElementById('profitStrategy').textContent = 'Focus on high-scoring PLR packages first, implement upsell strategies, and create bundle packages for maximum revenue';
        }

        function updateBundleTab() {
            if (ultimateAnalysisData.length === 0) {
                document.getElementById('premiumRevenue').textContent = '$0/month';
                document.getElementById('standardRevenue').textContent = '$0/month';
                return;
            }

            const totalPotential = ultimateAnalysisData.reduce((sum, item) => sum + item.profitPotential, 0);
            const premiumRevenue = Math.round(totalPotential * 0.15);
            const standardRevenue = Math.round(totalPotential * 0.08);

            document.getElementById('premiumRevenue').textContent = `$${premiumRevenue.toLocaleString()}/month`;
            document.getElementById('standardRevenue').textContent = `$${standardRevenue.toLocaleString()}/month`;
        }

        function updateOptimizeTab() {
            if (ultimateAnalysisData.length === 0) {
                document.getElementById('titleSuggestions').textContent = 'Upload content to generate AI-powered title suggestions';
                document.getElementById('quickWinActions').textContent = '💡 Upload content to see personalized quick win recommendations';
                return;
            }

            document.getElementById('titleSuggestions').textContent = 'AI has generated 10+ optimized titles for each PLR package based on market demand and SEO best practices.';
            document.getElementById('quickWinActions').textContent = '⚡ Start with highest-scoring PLR packages, create bundle offers, optimize pricing based on competition analysis, and implement cross-selling strategies.';
        }

        function getStrategyTooltip(strategy) {
            const tooltips = {
                'Quick Launch': 'QUICK LAUNCH: Fast-to-market strategy for immediate revenue. This content is ready for quick turnaround with minimal editing required. Perfect for testing market demand.',
                'Upsell Package': 'UPSELL PACKAGE: Create a higher-priced bundle by combining this PLR with complementary products like workbooks, checklists, or video courses. Typical upsell increases revenue by 40-60% per customer.'
            };
            return tooltips[strategy] || 'Strategy description';
        }

        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');

            currentTab = tabName;
        }

        function showDetails(fileName) {
            alert(`Detailed analysis for: ${fileName}\n\nThis would open a detailed report in the full version.`);
        }

        // Tooltip functionality
        function handleTooltipShow(e) {
            const element = e.target.closest('[data-tooltip]');
            if (element) {
                showTooltip(e, element);
            }
        }

        function handleTooltipHide(e) {
            const element = e.target.closest('[data-tooltip]');
            if (!element) {
                hideTooltip();
            }
        }

        function handleTooltipMove(e) {
            const element = e.target.closest('[data-tooltip]');
            if (element) {
                updateTooltipPosition(e);
            }
        }

        function showTooltip(e, element) {
            const tooltip = document.getElementById('tooltip');
            const text = element.getAttribute('data-tooltip');
            
            if (text) {
                tooltip.innerHTML = text.replace(/\n/g, '<br>');
                tooltip.classList.add('show');
                updateTooltipPosition(e);
            }
        }

        function hideTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.classList.remove('show');
        }

        function updateTooltipPosition(e) {
            const tooltip = document.getElementById('tooltip');
            if (!tooltip.classList.contains('show')) return;

            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            let left = e.pageX + 15;
            let top = e.pageY - 10;
            
            // Force layout calculation
            tooltip.style.visibility = 'hidden';
            tooltip.style.display = 'block';
            const tooltipWidth = tooltip.offsetWidth;
            const tooltipHeight = tooltip.offsetHeight;
            tooltip.style.visibility = 'visible';
            
            // Adjust horizontal position
            if (left + tooltipWidth > viewportWidth - 20) {
                left = e.pageX - tooltipWidth - 15;
            }
            if (left < 10) {
                left = 10;
            }
            
            // Adjust vertical position
            if (top + tooltipHeight > viewportHeight - 20) {
                top = e.pageY - tooltipHeight - 15;
            }
            if (top < 10) {
                top = 10;
            }
            
            tooltip.style.left = `${left}px`;
            tooltip.style.top = `${top}px`;
        }
    </script>
</body>
</html>
